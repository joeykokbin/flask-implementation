{% extends "layout.html" %}

{% block title %}
    Bake-Cademy
{% endblock %}

{% block main %}

<div class = "video-holder" style = "text-align: center;">
  <div class = "container" id = "video_container">

  </div>
  <div id = "description">
  dwdw
  </div>
</div>

<script src="https://apis.google.com/js/client.js?onload=function"></script>
<script type="text/javascript">

  // 2. This code loads the IFrame Player API code asynchronously.
  var tag = document.createElement('script');

  tag.src = "https://www.youtube.com/iframe_api";
  var firstScriptTag = document.getElementsByTagName('script')[0];
  firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

  // 3. This function creates an <iframe> (and YouTube player)
  //    after the API code downloads.s
  var player;
  function onYouTubeIframeAPIReady() {
    player = new YT.Player('video_container', {
      height: '390',
      width: '640',
      playerVars:
      {
        listType:'playlist',
        list: 'PLKtIunYVkv_Rb8nBO5KoeZl2S-I2VvYYL'
      },
      events: {
        'onReady': onPlayerReady,
        'onStateChange': onPlayerStateChange
      }
    });
  }

  var playliststr;
  // 4. The API will call this function when the video player is ready.
  function onPlayerReady(event) {
    event.target.playVideo();
    // getYouTubeInfo(); // initiate 1st call and only 1st call to api to retrieve video information.
  }

  var done = false;
  function onPlayerStateChange(event) {

    var playlist = player.getPlaylist();
    playliststr = playlist.join();
    console.log(playliststr);
  }

</script>

{% endblock %}
