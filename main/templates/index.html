{% extends "layout.html" %}

{% block title %}
    Home
{% endblock %}

{% block main %}

  <div id = "stage" class = "container-fluid">
    {% for i in range(4) %}
      <img src = "{{ path[i] }}" name = "{{ name[i] }}" id = "{{ img_id[i] }}">
      <div class = "text-block" id = "{{ tagid[i] }}" name = "{{ tagname[i] }}">
        <h5 style = "text-align: center"> {{ title[i] }} </h5>
        <p> {{ desc[i] }} </p>
        <form class = "col text-center" action ="{{ '/product/' + prodid[i]|string }}" >
          <input type="hidden" name="prodid" value="{{'/product/' + prodid[i]|string }}">
          <input class = "btn btn-primary mb-2" type = "submit" value = "Buy">
        </form>
      </div>
    {% endfor %}

  <div class = "video-holder" style = "text-align: center;">
    <div class = "container" id = "video_container">

    </div>
    <div id = "description">
      <p>This video is brought to you by the channel <b><i>From the Test Kitchen</i></b>, by <b>Bon Appetit</b>. For more information, <a href = "https://www.bonappetit.com/">Visit their website.</a></p>
    </div>
    &emsp;
  </div>
</div>

    <script src="https://apis.google.com/js/client.js?onload=function"></script>
    <script type="text/javascript">

      // 2. This code loads the IFrame Player API code asynchronously.
      var tag = document.createElement('script');

      tag.src = "https://www.youtube.com/iframe_api";
      var firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

      // 3. This function creates an <iframe> (and YouTube player)
      //    after the API code downloads.s
      var player;
      function onYouTubeIframeAPIReady() {
        player = new YT.Player('video_container', {
          height: '768',
          width: '1024',
          playerVars:
          {
            listType:'playlist',
            list: 'PLKtIunYVkv_Rb8nBO5KoeZl2S-I2VvYYL'
          },
          events: {
            'onReady': onPlayerReady,
            'onStateChange': onPlayerStateChange
          }
        });
      }

      // 4. The API will call this function when the video player is ready.
      function onPlayerReady(event) {
        return true;
        // event.target.playVideo();
      }

      var done = false;
      function onPlayerStateChange(event) {
        done = true;
      }

      function popUpFunction() {
        var popup = document.getElementById("myPopup");
        popup.classList.toggle("show");
      }

    </script>

{% endblock %}
